{"remainingRequest":"D:\\python\\app-estudios-online-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\python\\app-estudios-online-front\\src\\views\\FrmPago.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\python\\app-estudios-online-front\\src\\views\\FrmPago.vue","mtime":1619946547459},{"path":"D:\\python\\app-estudios-online-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\python\\app-estudios-online-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\python\\app-estudios-online-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\python\\app-estudios-online-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\python\\app-estudios-online-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouY2VudHJhcnsNCiAgICBtYXJnaW46IGF1dG87DQogICAgd2lkdGg6IDMwJTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCBncmV5Ow0KICAgIHBhZGRpbmc6IDEwcHg7DQp9DQo="},{"version":3,"sources":["FrmPago.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA","file":"FrmPago.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <b-container class=\"pago\">\r\n        <b-container >\r\n            <div class=\"centrar\">\r\n            <div>\r\n                <h3>Pagar con Tarjeta Credito/Debito</h3>\r\n                <b-img src=\"../assets/img/visa.png\" width=\"30%\"/>\r\n                <b-img src=\"../assets/img/mastercard.png\" width=\"30%\"/>\r\n                <b-img src=\"../assets/img/dcp.png\" width=\"30%\"/>\r\n                <b-img src=\"../assets/img/amex.png\" width=\"30%\"/>\r\n            <div>\r\n            </div>\r\n            </div>\r\n                <p v-if=\"errors.length\">\r\n                    <b>Por favor, corrija el(los) siguiente(s) error(es):</b>\r\n                    <ul>\r\n                    <li v-for=\"error in errors\" v-bind:key=\"error.id\" >{{ error }}</li>\r\n                    </ul>\r\n                </p>\r\n                <b-row>\r\n                    <b-col>\r\n                        <b-input-group size=\"sm\" class=\"mb-3\">\r\n                            <b-input-group-prepend is-text>\r\n                                <b-icon icon=\"credit-card\"></b-icon>\r\n                            </b-input-group-prepend>\r\n                            <b-form-input type=\"text\" placeholder=\"0000 0000 0000 0000\" v-on:keydown=\"ofuscar\" v-model=\"txtTarjetaOfu\" size=\"14\"\r\n                            ></b-form-input>\r\n                        </b-input-group>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col>\r\n                        <b-input-group size=\"sm\" class=\"mb-3\">\r\n                            <b-input-group-prepend is-text>\r\n                                <b-icon icon=\"calendar2-date\"></b-icon>\r\n                            </b-input-group-prepend>\r\n                            <b-form-input type=\"text\" placeholder=\"MM/DD\" v-model=\"txtFecha\" v-on:keydown=\"soloNumeroFecha\" size=\"4\"></b-form-input>\r\n                        </b-input-group>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <b-input-group size=\"sm\" class=\"mb-3\">\r\n                            <b-input-group-prepend is-text>\r\n                                <b-icon icon=\"calendar2-date\"></b-icon>\r\n                            </b-input-group-prepend>\r\n                            <b-form-input type=\"text\" placeholder=\"CVV\" v-model=\"txtCvv\" v-on:keydown=\"soloNumeroCVV\" size=\"3\"></b-form-input>\r\n                        </b-input-group>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col>\r\n                        <b-input-group size=\"sm\" class=\"mb-3\">\r\n                            <b-input-group-prepend is-text>\r\n                                <b-icon icon=\"person\"></b-icon>\r\n                            </b-input-group-prepend>\r\n                            <b-form-input type=\"text\" placeholder=\"Nombre\" v-model=\"txtNombre\"></b-form-input>\r\n                        </b-input-group>\r\n                    </b-col>\r\n                    <b-col>\r\n                        <b-input-group size=\"sm\" class=\"mb-3\">\r\n                            <b-input-group-prepend is-text>\r\n                                <b-icon icon=\"person\"></b-icon>\r\n                            </b-input-group-prepend>\r\n                            <b-form-input type=\"text\" placeholder=\"Apellido\" v-model=\"txtApellido\"></b-form-input>\r\n                        </b-input-group>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col>\r\n                        <b-input-group size=\"sm\" class=\"mb-2\">\r\n                            <b-input-group-prepend is-text>\r\n                                <b-icon icon=\"envelope\"></b-icon>\r\n                            </b-input-group-prepend>\r\n                            <b-form-input type=\"text\" placeholder=\"Correo\" v-model=\"txtCorreo\"></b-form-input>\r\n                        </b-input-group>\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                    <b-col><b-button variant=\"danger\" size=\"lg\" block @click=\"goback\">Cancelar</b-button></b-col>\r\n                    <b-col><b-button variant=\"primary\" size=\"lg\" block @click=\"pagarCurso\" >Pagar</b-button></b-col>\r\n                </b-row>\r\n            </div>\r\n        </b-container>\r\n    </b-container>\r\n</template>\r\n<style>\r\n.centrar{\r\n    margin: auto;\r\n    width: 30%;\r\n    border: 1px solid grey;\r\n    padding: 10px;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n    name:'Pago',\r\n    data() {\r\n      return {\r\n        errors: [],\r\n        txtTarjeta:'',\r\n        txtTarjetaOfu:'',\r\n        txtCorreo:'',\r\n        txtFecha:'',\r\n        txtNombre:'',\r\n        txtApellido:'',\r\n        txtCvv:''\r\n      }\r\n    },\r\n    methods: {\r\n      ofuscar(event) {\r\n          if(/^\\d*$/.test(event.key)){\r\n              this.txtTarjeta=this.txtTarjetaOfu\r\n              if(this.txtTarjetaOfu.length <= 10){\r\n                  this.txtTarjetaOfu = this.txtTarjetaOfu.replace(/[0-9]/g, '*')\r\n              }\r\n              if(this.txtTarjetaOfu.length > 13){\r\n                  if(event.keyCode!==8 && event.keyCode!==9){\r\n                    event.preventDefault();\r\n                  }\r\n              }\r\n          }else{\r\n              if(event.keyCode!==8 && event.keyCode!==9){\r\n                  event.preventDefault();\r\n              }\r\n          }\r\n      },\r\n      soloNumeroFecha(event) {\r\n          if(!/^\\d*$/.test(event.key)){\r\n              if(event.keyCode!==8 && event.keyCode!==9){\r\n                  event.preventDefault();\r\n              }\r\n          }\r\n\r\n          if(this.txtFecha.length > 3){\r\n                  if(event.keyCode!==8 && event.keyCode!==9){\r\n                    event.preventDefault();\r\n                  }\r\n              }\r\n      },\r\n      soloNumeroCVV(event) {\r\n          if(!/^\\d*$/.test(event.key)){\r\n              if(event.keyCode!==8 && event.keyCode!==9){\r\n                  event.preventDefault();\r\n              }\r\n          }\r\n\r\n        if(this.txtCvv.length > 2){\r\n            if(event.keyCode!==8 && event.keyCode!==9){\r\n                event.preventDefault();\r\n            }\r\n        }\r\n      },\r\n      pagarCurso(){\r\n        this.errors = [];\r\n        if (!this.txtTarjetaOfu) {\r\n            this.errors.push('El Numero de tarjeta es obligatorio.');\r\n        }\r\n        if (!this.txtFecha) {\r\n            this.errors.push('La fecha de expiraci√≥n es obligatorio.');\r\n        }\r\n        if (!this.txtCvv) {\r\n            this.errors.push('el cvv es obligatorio.');\r\n        }\r\n        if (!this.txtNombre) {\r\n            this.errors.push('El nombre es obligatorio.');\r\n        }\r\n        if (!this.txtApellido) {\r\n            this.errors.push('El apellido es obligatorio.');\r\n        }\r\n        if (!this.txtCorreo) {\r\n            this.errors.push('El correo es obligatorio.');\r\n        }\r\n\r\n        if(this.errors.length<=0){\r\n          let curso = this.$route.params.idcurso\r\n          \r\n                this.$axios.post('usuario/mail',{\r\n                    usuarioId:parseInt(localStorage.getItem('idusuario')),\r\n                    cursoId:curso,\r\n                    mailFrom:\"u201721674@upc.edu.pe\",\r\n                    passwordFrom:\"3ru3iM5tr0$7\"\r\n                })\r\n                .then(response => {\r\n                    this.pagook = response.data.data\r\n                    if (pagook){\r\n                        alert('gracias por inscribirse, los datos de su clase fueron enviados por correo')\r\n                    }\r\n                    \r\n                    this.$router.push({name:'Home'})\r\n                })\r\n                .catch(e => console.log(e))                \r\n        }\r\n\r\n\r\n      },\r\n      goback(){\r\n          this.$router.push({name:'Home'})\r\n      }\r\n      \r\n    }\r\n}\r\n</script>\r\n"]}]}